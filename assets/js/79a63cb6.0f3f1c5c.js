"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[343],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var r=n(7294);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},b=r.forwardRef((function(e,t){var n=e.components,s=e.mdxType,o=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),p=c(n),b=s,m=p["".concat(l,".").concat(b)]||p[b]||d[b]||o;return n?r.createElement(m,a(a({ref:t},u),{},{components:n})):r.createElement(m,a({ref:t},u))}));function m(e,t){var n=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var o=n.length,a=new Array(o);a[0]=b;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[p]="string"==typeof e?e:s,a[1]=i;for(var c=2;c<o;c++)a[c]=n[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}b.displayName="MDXCreateElement"},9377:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var r=n(7462),s=(n(7294),n(3905));const o={sidebar_position:4},a="Cross-Subnet Messages",i={unversionedId:"learn/subnets/cross-subnet-messages",id:"learn/subnets/cross-subnet-messages",title:"Cross-Subnet Messages",description:"Definition",source:"@site/docs/learn/subnets/cross-subnet-messages.md",sourceDirName:"learn/subnets",slug:"/learn/subnets/cross-subnet-messages",permalink:"/learn/subnets/cross-subnet-messages",draft:!1,editUrl:"https://github.com/toposware/docs/edit/master/docs/learn/subnets/cross-subnet-messages.md",tags:[],version:"current",lastUpdatedBy:"S\xe9bastien Dan",lastUpdatedAt:1682608932,formattedLastUpdatedAt:"Apr 27, 2023",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Topos Subnet",permalink:"/learn/subnets/topos-subnet"},next:{title:"Overview",permalink:"/learn/zkVM/overview"}},l={},c=[{value:"Definition",id:"definition",level:2},{value:"Topos Cross-Subnet Messaging Protocol",id:"topos-cross-subnet-messaging-protocol",level:2}],u={toc:c},p="wrapper";function d(e){let{components:t,...n}=e;return(0,s.kt)(p,(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"cross-subnet-messages"},"Cross-Subnet Messages"),(0,s.kt)("h2",{id:"definition"},"Definition"),(0,s.kt)("p",null,"A ",(0,s.kt)("strong",{parentName:"p"},"cross-subnet message")," represents a request from a user on a subnet to execute a transaction in a remote subnet. In practice, it consists in a transaction on the sending subnet that is part of a state transition whose validity is ensured by the ",(0,s.kt)("a",{parentName:"p",href:"/learn/uci/overview"},"UCI"),", which is settled on the ",(0,s.kt)("a",{parentName:"p",href:"/learn/tce/overview"},"TCE"),", and delivered to the receiving subnet."),(0,s.kt)("p",null,"Topos allows for interoperability between subnets via the following transmission flow of cross-subnet messages:"),(0,s.kt)("div",{style:{textAlign:"center"}},(0,s.kt)("img",{src:"/img/transmission-flow.jpg",width:"90%",style:{margin:"2rem 0"}})),(0,s.kt)("admonition",{title:"Validity and Authentication",type:"tip"},(0,s.kt)("p",{parentName:"admonition"},"Thanks to the validity and authentication properties guaranteed by the UCI and the consistent delivery ensured by the TCE, the receiving subnet can trustlessly and securely interpret the cross-subnet message and execute the request transaction locally.")),(0,s.kt)("p",null,"While subnets are free to implement any specific cross-subnet messaging protocols built on top the ",(0,s.kt)("a",{parentName:"p",href:"/learn/uci/overview"},"UCI")," and the ",(0,s.kt)("a",{parentName:"p",href:"/learn/tce/overview"},"TCE"),", we propose the ",(0,s.kt)("strong",{parentName:"p"},"Topos Cross-Subnet Messaging Protocol"),"."),(0,s.kt)("h2",{id:"topos-cross-subnet-messaging-protocol"},"Topos Cross-Subnet Messaging Protocol"),(0,s.kt)("p",null,"The requesting user calls a dedicated protocol-level smart contract, the ",(0,s.kt)("strong",{parentName:"p"},"Topos Core contract"),", on the sending subnet. Once proven to be part of a verified state transition of the sending subnet, the call is executed on the receiving subnet."),(0,s.kt)("p",null,"The Topos Core contract function to call on the sending subnet depends on the type of message requested:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Asset transfer"),": An asset is burnt/locked on the sending subnet and equivalently minted on the receiving one.")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"transferAsset(\n    subnet_id: Identifier of the receiving subnet,\n    asset_id: Identifier of the transferred asset,\n    recipient_addr: Recipient\u2019s address on the receiving subnet,\n    amount: Amount to be transferred\n)\n")),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Arbitrary contract call"),": A contract on the receiving subnet is called from the sending subnet.")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"callArbitraryContract(\n    subnet_id: Identifier of the receiving subnet,\n    contract_addr: Address of the smart contract,\n    func_name: Name of the function to call,\n    func_args: Arguments to pass to the function call\n)\n")),(0,s.kt)("admonition",{type:"info"},(0,s.kt)("p",{parentName:"admonition"},"The Topos Cross-Subnet Messaging Protocol is ",(0,s.kt)("strong",{parentName:"p"},"under active development"),". More information will be available soon!")))}d.isMDXComponent=!0}}]);