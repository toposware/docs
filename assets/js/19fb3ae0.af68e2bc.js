"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[312],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return f}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=a.createContext({}),l=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=l(e.components);return a.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=l(n),f=r,h=d["".concat(c,".").concat(f)]||d[f]||p[f]||i;return n?a.createElement(h,o(o({ref:t},u),{},{components:n})):a.createElement(h,o({ref:t},u))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var l=2;l<i;l++)o[l]=n[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7017:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return c},metadata:function(){return l},toc:function(){return u},default:function(){return d}});var a=n(3117),r=n(102),i=(n(7294),n(3905)),o=["components"],s={sidebar_position:4},c="State Transitions Validity",l={unversionedId:"learn/uci/state-transitions-validity",id:"learn/uci/state-transitions-validity",title:"State Transitions Validity",description:"Transactions between accounts of a subnet or across multiple subnets mutate and modify the internal states of the involved subnets. These actions are called state transitions.",source:"@site/docs/learn/uci/state-transitions-validity.md",sourceDirName:"learn/uci",slug:"/learn/uci/state-transitions-validity",permalink:"/learn/uci/state-transitions-validity",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Authentication",permalink:"/learn/uci/authentication"},next:{title:"Certificate Lifecycle",permalink:"/learn/uci/certificate-lifecycle"}},u=[{value:"zk-STARKs",id:"zk-starks",children:[],level:2},{value:"Validating Asset Transfers",id:"validating-asset-transfers",children:[],level:2},{value:"Validating Arbitrary Computations",id:"validating-arbitrary-computations",children:[],level:2}],p={toc:u};function d(e){var t=e.components,n=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"state-transitions-validity"},"State Transitions Validity"),(0,i.kt)("p",null,"Transactions between accounts of a subnet or across multiple subnets mutate and modify the internal states of the involved subnets. These actions are called ",(0,i.kt)("strong",{parentName:"p"},"state transitions"),"."),(0,i.kt)("p",null,"In the Topos ecosystem, the state of subnets is not known to other subnets and, as such, the validity of state transitions cannot be trivially guaranteed. Subnets must rely on a computational integrity proving system whose verification is fast enough for the ecosystem to scale as the number of subnets increases, and to ensure global consistency across subnets without depending on known identities to assess validity of the so-called state transitions."),(0,i.kt)("h2",{id:"zk-starks"},"zk-STARKs"),(0,i.kt)("p",null,"For this purpose, the Topos protocol leverages ",(0,i.kt)("a",{parentName:"p",href:"https://eprint.iacr.org/2018/046.pdf"},"zero-knowledge STARKs")," by batching all subnet transactions in order to generate a proof attesting to the validity of these transactions. These generated proofs, as well as all cross-subnet transactions, are included into certificates to be propagated to the rest of the ecosystem. Upon reception, the fast verification of zk-STARK proofs included in certificates allows the ecosystem to verify a very large number of state transitions and hence scale exponentially."),(0,i.kt)("p",null,"zk-STARKs (in the sense of FRI-based zk-STARKs as the Topos protocol is relying on) are a relatively recent cryptographic technology to enforce computational integrity while preserving privacy, and which verification scales exponentially faster than the underlying computation size. In addition, the construction is specifically tailored for repeated executions of a given computation, making it perfectly suited for blockchain applications. The zero-knowledge property of the STARK proof is a fundamental property leveraged by Topos to maintain subnet privacy while enforcing correct state transitions."),(0,i.kt)("p",null,"The certificate STARKs can prove the correct execution of any arbitrary subnet state transition and can be verified by anyone. As such, subnets can define their own business logic, and thus developers are given the freedom to build any type of applications which can be composable with all existing applications in the ecosystem."),(0,i.kt)("p",null,"Subnet's certificate creators batch transactions together to output STARK proofs attesting to the validity of the state transitions."),(0,i.kt)("h2",{id:"validating-asset-transfers"},"Validating Asset Transfers"),(0,i.kt)("p",null,"Typically, from a high-level perspective, when proving the validity of asset transfers, the Topos STARK proceeds to the following checks:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The amount is positive;"),(0,i.kt)("li",{parentName:"ul"},"The amount is smaller than the sender's balance;"),(0,i.kt)("li",{parentName:"ul"},"The transfer is correctly signed by the sender, i.e., the sender has spending authority;"),(0,i.kt)("li",{parentName:"ul"},"The account of the sender was correctly decreased by the transfer amount;"),(0,i.kt)("li",{parentName:"ul"},"The account of the receiver was correctly increased by the transfer amount;"),(0,i.kt)("li",{parentName:"ul"},"All other accounts are unchanged by the transfer;"),(0,i.kt)("li",{parentName:"ul"},"The sender's nonce was incremented by one.")),(0,i.kt)("h2",{id:"validating-arbitrary-computations"},"Validating Arbitrary Computations"),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"More information on general-purpose STARKs is coming soon!"))))}d.isMDXComponent=!0}}]);