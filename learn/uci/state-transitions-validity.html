<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.10">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-1VZC4YQ8ZY","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><title data-react-helmet="true">State Transitions Validity | Topos Docs</title><meta data-react-helmet="true" property="og:url" content="https://docs.toposware.com/learn/uci/state-transitions-validity"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" name="author" content="Toposware"><meta data-react-helmet="true" name="og:description" content="Documentation of Topos, a consensusless, trust-free, privacy-enhancing interoperability protocol to bridge blockchains"><meta data-react-helmet="true" name="image" content="https://docs.toposware.com/img/banner-topos-seo.png" property="og:image"><meta data-react-helmet="true" name="og:image" content="https://docs.toposware.com/img/banner-topos-seo.png"><meta data-react-helmet="true" name="title" content="Topos Docs"><meta data-react-helmet="true" name="og:title" content="Topos Docs"><meta data-react-helmet="true" name="og:type" content="website"><meta data-react-helmet="true" name="keywords" content="blockchain, interoperability, consensus, network"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="twitter:creator" content="Toposware"><meta data-react-helmet="true" name="twitter:title" content="Topos Docs"><meta data-react-helmet="true" name="twitter:description" content="Documentation of Topos, a consensusless, trust-free, privacy-enhancing interoperability protocol to bridge blockchains"><meta data-react-helmet="true" name="og:image" content="https://docs.toposware.com/img/banner-topos-seo.png"><meta data-react-helmet="true" property="og:title" content="State Transitions Validity | Topos Docs"><meta data-react-helmet="true" name="description" content="Transactions between accounts of a subnet or across multiple subnets mutate and modify the internal states of the involved subnets. These actions are called state transitions."><meta data-react-helmet="true" property="og:description" content="Transactions between accounts of a subnet or across multiple subnets mutate and modify the internal states of the involved subnets. These actions are called state transitions."><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.toposware.com/learn/uci/state-transitions-validity"><link data-react-helmet="true" rel="alternate" href="https://docs.toposware.com/learn/uci/state-transitions-validity" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.toposware.com/learn/uci/state-transitions-validity" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.4772f7dc.css">
<link rel="preload" href="/assets/js/runtime~main.cd844ae3.js" as="script">
<link rel="preload" href="/assets/js/main.77871a5e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Topos Docs" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/logo.svg" alt="Topos Docs" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Topos Docs</b></a></div><div class="navbar__items navbar__items--right"><a href="https://toposware.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Website</a><a href="https://twitter.com/Topos_Network" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link social twitter"> </a><a href="https://www.linkedin.com/company/toposware" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link social linkedin"> </a><a href="https://medium.com/topos-network" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link social medium"> </a><a href="https://github.com/toposware" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link social github"> </a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/general-overview">General overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active menuLinkText_1J2g">Learn</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menuLinkText_1J2g" tabindex="0">Subnets</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learn/subnets/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learn/subnets/integration-flow">Integration Flow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learn/subnets/cross-subnet-transactions">Cross-Subnet Transactions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active menuLinkText_1J2g" tabindex="0">Unified Certification Interface</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learn/uci/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learn/uci/certificate">Certificate</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learn/uci/subnet-registration">Subnet Registration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learn/uci/authentication">Authentication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/learn/uci/state-transitions-validity">State Transitions Validity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learn/uci/certificate-lifecycle">Certificate Lifecycle</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menuLinkText_1J2g" tabindex="0">Transmission Control Engine</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learn/tce/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learn/tce/conflicting-certificates">Conflicting Certificates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learn/tce/trb">Topos Reliable Broadcast</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learn/tce/sybil-control">Sybil Control</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menuLinkText_1J2g" tabindex="0">Crypto Params</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learn/crypto-params/stark">STARKs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learn/crypto-params/schnorr">Schnorr signature scheme</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menuLinkText_1J2g">Build</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/build/overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menuLinkText_1J2g" tabindex="0">DevKits</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/build/devkits/substrate">Substrate DevKit</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/build/devkits/others">Other DevKits</a></li></ul></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>State Transitions Validity</h1></header><p>Transactions between accounts of a subnet or across multiple subnets mutate and modify the internal states of the involved subnets. These actions are called <strong>state transitions</strong>.</p><p>In the Topos ecosystem, the state of subnets is not known to other subnets and, as such, the validity of state transitions cannot be trivially guaranteed. Subnets must rely on a computational integrity proving system whose verification is fast enough for the ecosystem to scale as the number of subnets increases, and to ensure global consistency across subnets without depending on known identities to assess validity of the so-called state transitions.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="zk-starks">zk-STARKs<a aria-hidden="true" class="hash-link" href="#zk-starks" title="Direct link to heading">​</a></h2><p>For this purpose, the Topos protocol leverages <a href="https://eprint.iacr.org/2018/046.pdf" target="_blank" rel="noopener noreferrer">zero-knowledge STARKs</a> by batching all subnet transactions in order to generate a proof attesting to the validity of these transactions. These generated proofs, as well as all cross-subnet transactions, are included into certificates to be propagated to the rest of the ecosystem. Upon reception, the fast verification of zk-STARK proofs included in certificates allows the ecosystem to verify a very large number of state transitions and hence scale exponentially.</p><p>zk-STARKs (in the sense of FRI-based zk-STARKs as the Topos protocol is relying on) are a relatively recent cryptographic technology to enforce computational integrity while preserving privacy, and which verification scales exponentially faster than the underlying computation size. In addition, the construction is specifically tailored for repeated executions of a given computation, making it perfectly suited for blockchain applications. The zero-knowledge property of the STARK proof is a fundamental property leveraged by Topos to maintain subnet privacy while enforcing correct state transitions.</p><p>The certificate STARKs can prove the correct execution of any arbitrary subnet state transition and can be verified by anyone. As such, subnets can define their own business logic, and thus developers are given the freedom to build any type of applications which can be composable with all existing applications in the ecosystem.</p><p>Subnet&#x27;s certificate creators batch transactions together to output STARK proofs attesting to the validity of the state transitions.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="validating-asset-transfers">Validating Asset Transfers<a aria-hidden="true" class="hash-link" href="#validating-asset-transfers" title="Direct link to heading">​</a></h2><p>Typically, from a high-level perspective, when proving the validity of asset transfers, the Topos STARK proceeds to the following checks:</p><ul><li>The amount is positive;</li><li>The amount is smaller than the sender&#x27;s balance;</li><li>The transfer is correctly signed by the sender, i.e., the sender has spending authority;</li><li>The account of the sender was correctly decreased by the transfer amount;</li><li>The account of the receiver was correctly increased by the transfer amount;</li><li>All other accounts are unchanged by the transfer;</li><li>The sender&#x27;s nonce was incremented by one.</li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="validating-arbitrary-computations">Validating Arbitrary Computations<a aria-hidden="true" class="hash-link" href="#validating-arbitrary-computations" title="Direct link to heading">​</a></h2><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>More information on general-purpose STARKs is coming soon!</p></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/learn/uci/authentication"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« <!-- -->Authentication</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/learn/uci/certificate-lifecycle"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Certificate Lifecycle<!-- --> »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#zk-starks" class="table-of-contents__link toc-highlight">zk-STARKs</a></li><li><a href="#validating-asset-transfers" class="table-of-contents__link toc-highlight">Validating Asset Transfers</a></li><li><a href="#validating-arbitrary-computations" class="table-of-contents__link toc-highlight">Validating Arbitrary Computations</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.cd844ae3.js"></script>
<script src="/assets/js/main.77871a5e.js"></script>
</body>
</html>